p8105\_hw2\_raj2152
================
Rachelle Juan
10/9/2021

# Problem 1

Importing and cleaning the Mr. Trash Wheel sheet.

``` r
trashwheel_df = 
  read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "Mr. Trash Wheel",
    range = "A2:N408"
  ) %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(across(sports_balls, round, 0))
```

Read and clean precipitation data for 2018 and 2019.

``` r
precip18_df = 
  read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2018 Precipitation",
    range = "A2:B14"
  ) %>% 
  janitor::clean_names() %>% 
  rename(total_precipitation = total) %>% 
  mutate(year = "2018") %>% 
  drop_na(total_precipitation)  
  

precip19_df = 
  read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2019 Precipitation",
    range = "A2:B14"
  ) %>% 
  janitor::clean_names() %>% 
  rename(total_precipitation = total) %>% 
  mutate(year = "2019") %>% 
  drop_na(total_precipitation) 
```

Merge 2018 and 2019 precipitation datasets.

``` r
precip_tidy =
  bind_rows(precip18_df, precip19_df) %>% 
  janitor::clean_names() %>% 
  mutate(month = month.name[month])

precip_tidy
```

    ## # A tibble: 18 × 3
    ##    month     total_precipitation year 
    ##    <chr>                   <dbl> <chr>
    ##  1 January                  0.94 2018 
    ##  2 February                 4.8  2018 
    ##  3 March                    2.69 2018 
    ##  4 April                    4.69 2018 
    ##  5 May                      9.27 2018 
    ##  6 June                     4.77 2018 
    ##  7 July                    10.2  2018 
    ##  8 August                   6.45 2018 
    ##  9 September               10.5  2018 
    ## 10 October                  2.12 2018 
    ## 11 November                 7.82 2018 
    ## 12 December                 6.11 2018 
    ## 13 January                  3.1  2019 
    ## 14 February                 3.64 2019 
    ## 15 March                    4.47 2019 
    ## 16 April                    1.46 2019 
    ## 17 May                      3.58 2019 
    ## 18 June                     0.42 2019

About these data…

``` r
skimr::skim(trashwheel_df)
trash19_df = filter(trashwheel_df, year == "2019")
median(pull(trash19_df, sports_balls))

skimr::skim(precip18_df)
skimr::skim(precip19_df)
skimr::skim(precip_tidy)
sum(pull(precip18_df, total_precipitation))
```

### About Mr. Trash Wheel

There were 344 observations and 14 variables in the Mr. Trash Wheel
dataset. The variables identified the date of operation for specific
dumpsters and measured the total weight and volume of trash collected.
There are also separate variables indicating the count of item types
collected – for example, plastic and glass bottles, grocery bags,
cigarette butts, etc. The variable ‘homes powered’ also provided a count
of homes powered by the trash from Mr. Trash Wheel. The median number of
sports balls in a dumpster in 2019 was 8.5 sports balls.

### About 2018 & 2019 Precipitation Data

The total precipitation for 2018 was 70.33 inches. 2018 had 12
observations and 2019 had 6 observations. In 2018, the average
precipitation was 5.86 inches. In 2019, the average precipitation was
2.78 inches. The key variables were month and total precipitation in
inches. The resulting merged dataset, thus, shows 18 total observations
for total precipitation in inches with a monthly average precipitation
total of 4.83 inches.

## Problem 2

First, clean pols\_month.csv data:

``` r
pols_month_df = 
  read_csv("./fivethirtyeight_datasets/pols-month.csv") %>% 
  janitor::clean_names() %>% 
  separate(mon, into = c("year","month","day"), sep = "-") %>% 
  mutate(
    month = as.numeric(month),
    month = month.name[month],
    month = str_to_lower(month),
    prez_gop = replace(prez_gop, prez_gop == "1", "gop"),
    prez_gop = replace(prez_gop, prez_gop == "0", "dem"),
    ) %>% 
  rename(president = prez_gop) %>% 
  select(-prez_dem, -day)
```

Second, clean snp.csv data:

``` r
snp_df =
  read_csv("./fivethirtyeight_datasets/snp.csv") %>% 
  janitor::clean_names() %>% 
  mutate(date = as.Date(date, "%m/%d/%y")) %>% 
  separate(date, into = c("year","month","day"), sep = "-") %>% 
  mutate(
    month = as.numeric(month),
    month = month.name[month],
    month = str_to_lower(month),
    year = as.numeric(year),
    year = ifelse(year > 2021, year - 100, year)
    ) %>% 
  select(-day) %>% 
  arrange(year, month) 
```

Third, clean unemployment data:

``` r
unemp_df = 
  read_csv("./fivethirtyeight_datasets/unemployment.csv") %>% 
  janitor::clean_names() %>% 
  pivot_longer(
    jan:dec,
    names_to = "month",
    values_to = "percent_unemp"
  ) %>% 
  mutate(
    month = match(month, tolower(month.abb)),
    month = month.name[month],
    month = str_to_lower(month)
    ) %>% 
  arrange(year, month) 
```
